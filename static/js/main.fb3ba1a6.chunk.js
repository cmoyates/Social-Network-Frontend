(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),r=n(10),s=n.n(r),a=(n(93),n(24)),i=n(26),l=(n(94),n(48)),u=n(13),j=n(21),b=n.n(j),p=n(34),d=n(49),h=n.n(d),O=n(4),f=function(e){var t=function(){var t=Object(p.a)(b.a.mark((function t(n){var c,o,r,s,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=!1,o=null,t.prev=2,t.next=5,fetch("https://fast-coast-04774.herokuapp.com/profiles/email/"+n.profileObj.email);case 5:return r=t.sent,t.next=8,r.json();case 8:s=t.sent,o=s,console.log("Data"),console.log(s),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),console.log(t.t0),c=!0;case 18:if(!c){t.next=32;break}return console.log("Porordfg"),t.prev=20,a={user_email:n.profileObj.email,user_name:n.profileObj.name,img_url:n.profileObj.imageUrl},t.next=24,fetch("https://fast-coast-04774.herokuapp.com/profiles",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o)});case 24:o=t.sent,console.log(a),t.next=32;break;case 28:return t.prev=28,t.t1=t.catch(20),console.log(t.t1),t.abrupt("return");case 32:e.setProfile(o),console.log("Profile"),console.log(o),e.setIsAuth(!0),console.log(n);case 37:case"end":return t.stop()}}),t,null,[[2,14],[20,28]])})));return function(e){return t.apply(this,arguments)}}();return e.isAuth?Object(O.jsx)(u.a,{to:"/posts"}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Welcome to the Social Network!"}),Object(O.jsx)("p",{children:Object(O.jsx)(h.a,{clientId:"399415598384-sgkom02f57l549gtnn877013fg004ke5.apps.googleusercontent.com",buttonText:"Login",onSuccess:t,onFailure:function(e){console.log(e)},isSignedIn:!0,cookiePolicy:"single_host_origin"})})]})},x=n(154),m=n(158),g=n(156),v=n(160),k=n(71),C=n.n(k),S=n(70),w=n.n(S),y=n(69),_=n.n(y),I=n(159),A=n(175),P=n(151),L=n(157),N=Object(P.a)((function(e){return{cardHeader:{display:"flex",flexDirection:"row",alignItems:"center"},nameText:{paddingLeft:"10px"}}})),T=function(e){var t=N();return Object(O.jsxs)(x.a,{style:{margin:20},children:[Object(O.jsxs)(g.a,{children:[Object(O.jsxs)("div",{className:t.cardHeader,children:[Object(O.jsx)(A.a,{src:e.img_url}),Object(O.jsx)("h3",{className:t.nameText,children:e.user})]}),Object(O.jsx)(L.a,{}),Object(O.jsx)("p",{children:e.content})]}),Object(O.jsx)(L.a,{}),Object(O.jsx)(m.a,{children:Object(O.jsxs)(I.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",children:[Object(O.jsxs)(v.a,{size:"small",startIcon:Object(O.jsx)(_.a,{}),onClick:function(){console.log("Like")},children:["Like (",e.likeCount,")"]}),Object(O.jsx)(L.a,{orientation:"vertical",flexItem:!0}),Object(O.jsx)(v.a,{size:"small",startIcon:Object(O.jsx)(w.a,{}),onClick:function(){console.log("Comment")},children:"Comment"}),Object(O.jsx)(L.a,{orientation:"vertical",flexItem:!0}),Object(O.jsx)(v.a,{size:"small",startIcon:Object(O.jsx)(C.a,{}),onClick:function(){console.log("Share")},children:"Share"})]})})]})},F=n(172),z=n(174),B=n(165),J=n(162),D=n(161),E=n(163);var G=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),o=n[0],r=n[1];return Object(O.jsx)("div",{children:Object(O.jsxs)(z.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(D.a,{id:"form-dialog-title",children:"Post"}),Object(O.jsxs)(J.a,{children:[Object(O.jsx)(E.a,{children:e.userName}),Object(O.jsx)(F.a,{value:o,onChange:function(e){r(e.target.value)},autoFocus:!0,margin:"dense",id:"content",label:"Content",fullWidth:!0,multiline:!0})]}),Object(O.jsxs)(B.a,{children:[Object(O.jsx)(v.a,{onClick:Object(p.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleSubmit({user_id:e.profile.profile_id,user_name:e.profile.user_name,user_img:e.profile.img_url,content:o,likes:0});case 2:case"end":return t.stop()}}),t)}))),color:"primary",children:"Submit"}),Object(O.jsx)(v.a,{onClick:e.handleClose,color:"primary",children:"Cancel"})]})]})})},W=n(169),H=n(166),R=n(167),M=n(76),U=n(168),q=n(171),K=n(164),Q=n(75),V=n(170),X=n(177),Y=n(176),Z=Object(P.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),$=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),u=l[0],j=l[1],h=Object(c.useState)(!1),f=Object(i.a)(h,2),x=f[0],m=f[1],g=Object(c.useRef)(null),k=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!1),console.log(t),e.next=4,fetch("https://fast-coast-04774.herokuapp.com/posts",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});case 4:return n=e.sent,console.log(n),e.next=8,C();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fast-coast-04774.herokuapp.com/posts");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,document.title="Social Network",console.log(n),r(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){e.isAuth&&C()}),[e.isAuth]);var S=Z(),w=function(e){g.current&&g.current.contains(e.target)||m(!1)},y=function(){console.log("Logout Successful"),e.setProfile([]),e.setIsAuth(!1)};return Object(O.jsxs)("div",{children:[Object(O.jsx)(H.a,{position:"static",children:Object(O.jsxs)(R.a,{children:[Object(O.jsx)(M.a,{variant:"h5",children:"Social Network"}),Object(O.jsx)("div",{className:S.title}),Object(O.jsx)(M.a,{children:e.profile.user_name}),Object(O.jsx)(U.a,{className:S.menuButton,color:"inherit","aria-label":"menu",onClick:function(){m(!x)},ref:g,"aria-controls":x?"menu-list-grow":void 0,"aria-haspopup":"true",children:Object(O.jsx)(A.a,{src:e.profile.img_url})})]})}),Object(O.jsx)("br",{}),Object(O.jsx)(v.a,{variant:"contained",color:"primary",size:"medium",onClick:function(){j(!0)},children:Object(O.jsx)("b",{children:"Post"})}),Object(O.jsx)(W.a,{maxWidth:"sm",children:o.map((function(e){return Object(O.jsx)(T,{user:e.user_name,content:e.content,likeCount:e.likes,img_url:e.user_img},e.post_id)}))}),Object(O.jsx)(G,{open:u,handleClose:function(){j(!1)},handleSubmit:k,profile:e.profile}),Object(O.jsx)(V.a,{open:x,anchorEl:g.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(O.jsx)(K.a,Object(a.a)(Object(a.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(O.jsx)(Q.a,{children:Object(O.jsx)(q.a,{onClickAway:w,children:Object(O.jsx)(Y.a,{autoFocusItem:x,id:"menu-list-grow",children:Object(O.jsx)(d.GoogleLogout,{clientId:"399415598384-sgkom02f57l549gtnn877013fg004ke5.apps.googleusercontent.com",render:function(e){return Object(O.jsx)(X.a,{onClick:e.onClick,disabled:e.disabled,children:"Logout"})},buttonText:"Logout",onLogoutSuccess:y})})})})}))}})]})},ee=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"404: Page not found"})})},te=n(73),ne=["component","isAuth"],ce=function(e){var t=e.component,n=e.isAuth,c=Object(te.a)(e,ne);return Object(O.jsx)(u.b,Object(a.a)(Object(a.a)({},c),{},{render:function(e){return n?Object(O.jsx)(t,Object(a.a)({},e)):Object(O.jsx)(u.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var oe=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(!1),s=Object(i.a)(r,2),j=s[0],b=s[1];return Object(O.jsx)(l.a,{children:Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(u.d,{children:[Object(O.jsx)(u.b,{exact:!0,path:"/",component:function(){return Object(O.jsx)(f,{setProfile:o,setIsAuth:b,isAuth:j})}}),Object(O.jsx)(ce,{path:"/posts",isAuth:j,component:function(e){return Object(O.jsx)($,Object(a.a)(Object(a.a)({},e),{},{profile:n,setProfile:o,isAuth:j,setIsAuth:b}))}}),Object(O.jsx)(u.b,{exact:!0,path:"/404",component:ee}),Object(O.jsx)(u.a,{to:"/404"})]})})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,178)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(oe,{})}),document.getElementById("root")),re()},93:function(e,t,n){},94:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.fb3ba1a6.chunk.js.map